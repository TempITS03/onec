

//Процедура выводит пользователю
//
Процедура ОповещатьПриСозданииНовогоЗадания() Экспорт
	
	СтрокаНавигации = УправлениеДаннымиСервер.ПолучениеТекущихАктуальныхЗадачДляОповещения("ОповещатьПриСозданииНовогоЗадания");
	
	Если ЗначениеЗаполнено(СтрокаНавигации) Тогда
		ПоказатьОповещениеПользователя("Поступили новые задачи:", 
			"e1cib/app/Обработка.ОбработкаАктуальныхЗадач", "Открыть подробное описание...", БиблиотекаКартинок.Информация32);
	КонецЕсли;		
	
КонецПроцедуры	

Процедура ПередНачаломРаботыСистемы(Отказ)
	
	ОбработчикиОжиданияКлиент.ПодключениеОбработчиковОжидания("ОповещатьПриСозданииНовогоЗадания",Истина);
	
	СтруктураПараметровУчета = УправлениеДаннымиСервер.ПолучитьПараметрыУчета();
	Если СтруктураПараметровУчета.АвтоматическиПолучатьКурсыВалютПриНачалеРаботы Тогда
		Состояние("Обновление курса валют...",,"В параметрах учета указано автоматически обновлять курсы валют.",БиблиотекаКартинок.Информация32);
		
		УправлениеДаннымиСервер.ВызватьОбработчикОбновленияКурсаВалют();
		
	КонецЕсли;
	
КонецПроцедуры

Процедура ПередЗавершениемРаботыСистемы(Отказ)
	
	СтруктураПараметровУчета = УправлениеДаннымиСервер.ПолучитьПараметрыУчета();
	Если СтруктураПараметровУчета.АвтоматическиПолучатьКурсыВалютПриЗавершенииРаботы Тогда
		Состояние("Обновление курса валют...",,"В параметрах учета указано автоматически обновлять курсы валют.",БиблиотекаКартинок.Информация32);
		
		УправлениеДаннымиСервер.ВызватьОбработчикОбновленияКурсаВалют();
		
	КонецЕсли;
	
КонецПроцедуры