
&НаКлиенте
Процедура РасчитатьИЗакрыть(Команда)
	
	Если Объект.Валюта.Пустая() или Объект.ВалютаВзаиморасчетов.Пустая() Тогда
		Предупреждение("Необходимо указать валюты!");
		Возврат;
	КонецЕсли;	
	
	Если Объект.ЦенаЧаса = 0 Тогда
		Предупреждение("Необходимо указать цену часа!");
		Возврат;
	КонецЕсли;	
	
	СтруктураЗаполнения = Новый Соответствие;
	СтруктураЗаполнения.Вставить("Валюта", Объект.Валюта);
	СтруктураЗаполнения.Вставить("Курс",Объект.Курс);
	СтруктураЗаполнения.Вставить("Кратность",Объект.Кратность);
	СтруктураЗаполнения.Вставить("ЦенаЧаса",Объект.ЦенаЧаса);
	
	Закрыть(СтруктураЗаполнения);
	
КонецПроцедуры

&НаКлиенте
Процедура ВалютаПриИзменении(Элемент)
	
	Объект.Курс = ЗаполнениеОсновныхПараметровДокументов.ПолучитьОсновныеПараметрыВалюты(Объект.ДатаРасчета,Объект.Валюта,"КурсВзаиморасчетов");
	Объект.Кратность = ЗаполнениеОсновныхПараметровДокументов.ПолучитьОсновныеПараметрыВалюты(Объект.ДатаРасчета,Объект.Валюта,"КратностьВзаиморасчетов");
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Объект.ДатаРасчета				= Параметры.ДатаРасчета;
	Объект.ВалютаВзаиморасчетов 	= Параметры.ВалютаВзаиморасчетов;
	Объект.КурсВзаиморасчетов		= Параметры.КурсВзаиморасчетов;
	Объект.КратностьВзаиморасчетов 	= Параметры.КратностьВзаиморасчетов;
	
КонецПроцедуры
