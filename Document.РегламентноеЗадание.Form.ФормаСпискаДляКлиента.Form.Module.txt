
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ЗаполнитьПараметрыСпика();
	
КонецПроцедуры


&НаСервере
Процедура ЗаполнитьПараметрыСпика()
	
	ТекущийПользователь = ОбщегоНазначения.ПолучитьЗначениеПеременной("глТекущийПользователь");
	
	СписокСостояний = Новый Массив;
	
	Если Не ОтобразитьВсеЗадачи Тогда
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.НеОбработано);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.ВОчереди);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.ВРаботе);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.Тестируется);
	Иначе
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.НеОбработано);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.ВОчереди);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.ВРаботе);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.Завершено);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.Отложено);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.Отменено);
		СписокСостояний.Добавить(Перечисления.СостояниеЗаданий.Тестируется);
	КонецЕсли;	
	
	Список.Параметры.УстановитьЗначениеПараметра("Контрагент",ТекущийПользователь.Контрагент);
	Список.Параметры.УстановитьЗначениеПараметра("Состояние",СписокСостояний);
	
КонецПроцедуры	

&НаКлиенте
Процедура ОтобразитьВсеЗадачиПриИзменении(Элемент)
	
	ЗаполнитьПараметрыСпика();
	
КонецПроцедуры
